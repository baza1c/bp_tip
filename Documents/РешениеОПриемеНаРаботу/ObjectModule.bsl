#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ОбработчикиСобытий

Процедура ОбработкаЗаполнения(ДанныеЗаполнения, СтандартнаяОбработка)
	
	Если ТипЗнч(ДанныеЗаполнения) = Тип("Структура") И ДанныеЗаполнения.Свойство("ДанныеОффера") Тогда
		
		ДанныеОффера = ДанныеЗаполнения.ДанныеОффера;
		
		Если ТипЗнч(ДанныеОффера.Подразделение) = Тип("СправочникСсылка.ПодразделенияОрганизаций") Тогда
			Подразделение = ДанныеОффера.Подразделение;
		ИначеЕсли ЗначениеЗаполнено(ДанныеОффера.Подразделение) Тогда
			Подразделение = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ДанныеОффера.Подразделение, "Источник");
		КонецЕсли;
		
		Если ЗначениеЗаполнено(Подразделение) Тогда
			Организация = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Подразделение, "Владелец");
		КонецЕсли;
		
		Если ЗначениеЗаполнено(ДанныеОффера.ДолжностьПоШтатномуРасписанию) И Не ЗначениеЗаполнено(Подразделение) Тогда
			ДанныеПозиции = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДанныеОффера.ДолжностьПоШтатномуРасписанию, "Владелец,Подразделение");
			Организация 	= ДанныеПозиции.Владелец;
			Подразделение 	= ДанныеПозиции.Подразделение;
		КонецЕсли;
		
		ФизическоеЛицо 			= ДанныеОффера.ФизическоеЛицо;
		Должность 				= ДанныеОффера.Должность;
		ДатаПриема 				= ДанныеОффера.ДатаПриема;
		ИдентификаторДокумента 	= ДанныеОффера.ИдентификаторДокумента;
		
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти

#Иначе
ВызватьИсключение НСтр("ru = 'Недопустимый вызов объекта на клиенте.'");
#КонецЕсли