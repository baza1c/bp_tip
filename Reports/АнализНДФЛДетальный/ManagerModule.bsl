#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ПрограммныйИнтерфейс

#Область ДляВызоваИзДругихПодсистем

// СтандартныеПодсистемы.ВариантыОтчетов

// См. ВариантыОтчетовПереопределяемый.НастроитьВариантыОтчетов.
//
Процедура НастроитьВариантыОтчета(Настройки, НастройкиОтчета) Экспорт
	
	НастройкиВарианта = ВариантыОтчетов.ОписаниеВарианта(Настройки, НастройкиОтчета,
		"СводнаяСправка2НДФЛ");
	НастройкиВарианта.Описание =
		НСтр("ru = 'Краткая информация, отображаемая в справках 2-НДФЛ.'");
	
	НастройкиВарианта = ВариантыОтчетов.ОписаниеВарианта(Настройки, НастройкиОтчета,
		"АнализНДФЛПоДатамПолученияДоходов");
	НастройкиВарианта.Описание =
		НСтр("ru = 'Налоговая база, суммы исчисленного и удержанного налога
			|по датам получения дохода.'");
	
	НастройкиВарианта = ВариантыОтчетов.ОписаниеВарианта(Настройки, НастройкиОтчета,
		"АнализНДФЛПоДокументамОснованиям");
	НастройкиВарианта.Описание =
		НСтр("ru = 'Налоговая база, суммы исчисленного и удержанного налога
			|по документам начисления доходов и исчисления налога.'");
	
	НастройкиВарианта = ВариантыОтчетов.ОписаниеВарианта(Настройки, НастройкиОтчета,
		"АнализНДФЛПоМесяцамИСотрудникам");
	НастройкиВарианта.Описание =
		НСтр("ru = 'Налогооблагаемая сумма, примененные вычеты, сопоставление исчисленного, 
		|удержанного и перечисленного налогов по месяцам налогового периода.
		|Данные о перечисленном налоге показываются по 2023 год включительно.'");
	
	НастройкиВарианта = ВариантыОтчетов.ОписаниеВарианта(Настройки, НастройкиОтчета,
		"АнализНДФЛПоМесяцамНалоговогоПериодаИМесяцамВзаиморасчетовССотрудниками");
	НастройкиВарианта.Описание =
		НСтр("ru = 'Налоговая база, примененные вычеты, исчисленный, удержанный и перечисленный налог,
			|суммы выплаченного дохода с указанием месяца взаиморасчетов с сотрудниками и месяца налогового периода.
			|Данные о перечисленном налоге показываются по 2023 год включительно.'");
	
	НастройкиВарианта = ВариантыОтчетов.ОписаниеВарианта(Настройки, НастройкиОтчета,
		"ПодробныйАнализНДФЛПоСотруднику");
	НастройкиВарианта.Описание =
		НСтр("ru = 'Налоговая база, примененные вычеты, исчисленный, удержанный и перечисленный налог
			|с указанием первичных документов.
			|Данные о перечисленном налоге показываются по 2023 год включительно.'");
	
КонецПроцедуры

// Конец СтандартныеПодсистемы.ВариантыОтчетов

#КонецОбласти

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

Функция ВнешниеНаборыДанных() Экспорт
	
	ВнешниеНаборы = Новый Структура;
	
	СоставНалоговыхБаз = УчетНДФЛПовтИсп.СоставНалоговыхБаз();
	ДатаПроверки = УчетНДФЛ.ДатаЗакона176ФЗ();
		
	СтрокиККопированию = Новый Массив;
	Для Каждого СтрокаНалоговаяБаза Из СоставНалоговыхБаз Цикл
		Если СтрокаНалоговаяБаза.ПериодС <= ДатаПроверки И ДатаПроверки <= СтрокаНалоговаяБаза.ПериодПо Тогда
			СтрокиККопированию.Добавить(СтрокаНалоговаяБаза);
		КонецЕсли;
	КонецЦикла;
	
	СоставНалоговыхБаз = СоставНалоговыхБаз.Скопировать(СтрокиККопированию);
	
	ВнешниеНаборы.Вставить("СоставНалоговыхБаз", СоставНалоговыхБаз);
	
	Возврат ВнешниеНаборы;
	
КонецФункции

#КонецОбласти

#КонецЕсли